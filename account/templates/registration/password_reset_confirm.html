{% extends 'baselogin.html' %}
{% load widget_tweaks %}
{% comment %} {% load crispy_forms_tags %} {% endcomment %}

{% block body %}
  <div class="container d-flex justify-content-center align-items-center mt-5">
    <div class="card p-4 shadow" style="min-width: 500px;">
      <h4 class="mb-3">Reset your password</h4>

      {% if form.errors %}
        <div class="alert alert-danger">
          <ul>
            {% for field in form %}
              {% for error in field.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>
          {% render_field form.new_password1 class="form-control mb-3" %}

          <label for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>
          {% render_field form.new_password2 class="form-control mb-3" %}
          {% comment %} {{ form.new_password1.label_tag }}
          {{ form.new_password1|add_class:"form-control mb-3" }}
          {{ form.new_password2.label_tag }}
          {{ form.new_password2|add_class:"form-control mb-3" }} {% endcomment %}
        </div>
        {% comment %} <button type="submit" class="btn btn-success">Reset Password</button> {% endcomment %}
        <button type="submit" class="btn btn-primary w-100">Reset Password</button>
      </form>
    </div>
  </div>
{% endblock %}