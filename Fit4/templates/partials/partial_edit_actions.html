{% load widget_tweaks %}
{% load crispy_forms_tags %}

{{ form.media }} {#  Adds widget's JS/CSS files from CDN #}
<div class="shadow p-3 mb-2 bg-body rounded">
    <div class="row">
        <ul class="nav">
            <span class="flex-grow-1"></span>
            <b style="color:Red">*</b> = Required Information
        </ul>
    </div>
    <div class="card mb-2">
        <div class="card-body" style="background-color:#DCDCDC">
            Information
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.action_name.id_for_label }}" class="form-label"><small>Action Name*</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.action_name class="form-control required" placeholder="" %}
                <div class="invalid-feedback">{{ form.action_name.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ initiatives_formset.id_for_label }}" class="form-label"><small>Initiative</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field initiatives_formset.initiative_name class="select form-select required" placeholder="" %}
                <div class="invalid-feedback">{{ initiatives_formset.initiative_name.errors|first }}</div>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.action_type.id_for_label }}" class="form-label"><small>Action Type*</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.action_type class="select form-select required" placeholder="" %}
                <div class="invalid-feedback">{{ form.action_type.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.assigned_to.id_for_label }}" class="form-label"><small>Assigned to Contact</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.assigned_to class="select-user3 select form-select required select2" %}
                <div class="invalid-feedback">{{ form.assigned_to.errors|first }}</div>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.complete_by_phase.id_for_label }}" class="form-label"><small>Complete By Phase</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.complete_by_phase class="select form-select required" placeholder="" %}
                <div class="invalid-feedback">{{ form.complete_by_phase.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.status.id_for_label }}" class="form-label"><small>Status</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.status class="select form-select required" placeholder="" %}
                <div class="invalid-feedback">{{ form.status.errors|first }}</div>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.description.id_for_label }}" class="form-label"><small>Description</small></label>
            </div>
            <div class="col-sm-12">
                {{ form.description|add_class:"form-control bg-lightyellow mb-3"|attr:"rows:2" }}
                <div class="invalid-feedback">{{ form.description.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.due_date.id_for_label }}" class="form-label"><small>Due Date</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.due_date class="form-control" placeholder="" %}
                <div class="invalid-feedback">{{ form.due_date.errors|first }}</div>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.start_date.id_for_label }}" class="form-label"><small>Start Date</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.start_date class="form-control" placeholder="" %}
                <div class="invalid-feedback">{{ form.start_date.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ actions.due_date.id_for_label }}" class="form-label"><small>Completion Date</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field actions.due_date class="form-control" placeholder="" %}
                <div class="invalid-feedback">{{ actions.due_date.errors|first }}</div>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.complemetary.id_for_label }}" class="form-label"><small>Commentary</small></label>
            </div>
            <div class="col-sm-12">
                {{ form.commentary|add_class:"form-control bg-lightyellow mb-3"|attr:"rows:2" }}
                <div class="invalid-feedback">{{ form.complemetary.errors|first }}</div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <label for="{{ form.send_email.id_for_label }}" class="form-label"><small>Send notification email</small></label>
            </div>
            <div class="col-sm-12">
                {% render_field form.send_email class="form-check" placeholder="" %}
                <div class="invalid-feedback">{{ form.send_email.errors|first }}</div>
            </div>
        </div>
    </div>


    <div class="card mb-2">
        <div class="card-body" style="background-color:#DCDCDC">
            System Information
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-sm-6">
            <div class="col-sm-12">
                <small>Created By</small>
            </div>
            <div class="col-sm-12">
                {{form.created_by.first_name}} {{form.created_by.last_name}}
            </div>
        </div>
        <div class="col-sm-6">
            <div class="col-sm-12">
                <small>Last Modified By</small>
            </div>
            <div class="col-sm-12">
                {{form.last_modified_by.first_name}} {{form.last_modified_by.last_name}}
            </div>
        </div>
    </div>
</div>

{% comment %} 
    {% if form.errors %}
        <ul>
            {% for key,value in form.errors.items %} 
                <li>{{ key|escape }} : {{ value|escape }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endcomment %}